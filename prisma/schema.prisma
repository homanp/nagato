generator client {
    provider  = "prisma-client-py"
    interface = "asyncio"
}

datasource db {
    provider          = "postgresql"
    url               = env("DATABASE_URL")
    shadowDatabaseUrl = env("DATABASE_SHADOW_URL")
}

enum DatasourceType {
    TXT
    PDF
    CSV
    MARKDOWN
}

enum BaseModelType {
    GPT_35_TURBO
    LLAMA2_7B
    LLAMA2_7B_CHAT
    LLAMA2_13B
    LLAMA2_13B_CHAT
    LLAMA2_70B
    LLAMA2_70B_CHAT
    GPT_J_6B
    DOLLY_V2_12B
}

enum ModelProviders {
    OPENAI
    REPLICATE
}

enum DatasourceStatus {
    IN_PROGRESS
    DONE
    FAILED
}

model Datasource {
    id          String           @id @default(uuid())
    base_model  String           @default("GPT_35_TURBO")
    provider    String           @default("OPENAI")
    content     String?          @db.Text()
    status      DatasourceStatus @default(IN_PROGRESS)
    type        DatasourceType
    url         String?
    finetune    Json?
    webhook_url String?
    createdAt   DateTime         @default(now())
    updatedAt   DateTime         @updatedAt
}
