generator client {
    provider  = "prisma-client-py"
    interface = "asyncio"
}

datasource db {
    provider          = "postgresql"
    url               = env("DATABASE_URL")
    shadowDatabaseUrl = env("DATABASE_SHADOW_URL")
}

enum DatasourceType {
    TXT
    PDF
    CSV
    MARKDOWN
}

enum BaseModelType {
    GPT_35_TURBO
    LLAMA2
}

enum DatasourceStatus {
    IN_PROGRESS
    DONE
    FAILED
}

model Datasource {
    id          String           @id @default(uuid())
    base_model  String           @default("GPT_35_TURBO")
    content     String?          @db.Text()
    status      DatasourceStatus @default(IN_PROGRESS)
    type        DatasourceType
    url         String?
    finetune    Json?
    webhook_url String?
    createdAt   DateTime         @default(now())
    updatedAt   DateTime         @updatedAt
}
